<!DOCTYPE html>
<html>
<head>
    <title>Modelo M/G/1</title>
</head>
<body>
    <h1>Modelo M/G/1</h1>

    <label for="llegada">Tasa de llegada (λ):</label>
    <input type="text" id="llegada" required placeholder="Tasa de llegada por hora">
    <br>

    <label for="tiempo_servicio">Tiempo de promedio de espera de cliente en la cola:</label>
    <input type="text" id="tiempo_servicio" required placeholder="Tasa de llegada de cliente por hora">

   <br>
    <label for="atencion">Tasa de servicio (μ):</label>
    <input type="text" id="atencion" required placeholder="Tasa de servicio por hora por servidor">

    <br>
    <button onclick="calcularMG1()">Calcular</button>

    <h2>Resultados:</h2>
    <p>Cantidad de clientes en la cola (Lq): <span id="clientesEnCola"></span></p>
    <p>Cuantos clientes hay en el sistema (Ls): <span id="clienestesistema"></span></p>
    <p>Tiempo promedio que un cliente espera en el sistema (Ws): <span id="tiempoEsperaPromedio"> </span></p>
    <p>Tiempo promedio de espera en la cola (Wq): <span id="tiempoEsperaCola"></span></p>
    <p>Probabilidad de que el sistema esté vacío (P0): <span id="probabilidadSistemaVacio"></span></p>
    <p>Porcentaje de uso del servidor (ρ): <span id="usoServidor"></span></p>
   
    <script>
        
    function calcularMG1() {
            const llegada = parseFloat(document.getElementById("llegada").value);
            const tiempo_servicio = parseFloat(document.getElementById("tiempo_servicio").value);
            const atencion = parseFloat(document.getElementById("atencion").value);

            const rho = llegada / atencion;
            const Q = tiempo_servicio / 60;

            const Lq =  (((Math.pow(llegada , 2)) * (Math.pow(Q , 2))) + (Math.pow(rho , 2))) / (2 * (1 - rho));
           
            const Ls = Lq + rho ;

            const Wq = (Lq / llegada);

            const Ws = Wq + (1/atencion);

            const Po = 1-rho;

            const Pw = rho; 

    

            document.getElementById("clientesEnCola").textContent = Lq.toFixed(2) + " Clientes";
            document.getElementById("clienestesistema").textContent = Ls.toFixed(2) + " Clientes";
            document.getElementById("tiempoEsperaCola").textContent = Wq.toFixed(4) + " Horas - " + (60 * Wq.toFixed(4)) + " Minutos";
            document.getElementById("tiempoEsperaPromedio").textContent = Ws.toFixed(4) + " Horas -" + (60 * Ws.toFixed(4)) + " Minutos";
            document.getElementById("usoServidor").textContent = Po.toFixed(4)*100 + "%";
            document.getElementById("probabilidadSistemaVacio").textContent = Pw.toFixed(4)*100 + "%";

}

function obtenerTiempoPromedio(tiempo_servicio) {
    return tiempo_servicio / 60;
}

            
        
    </script>
</body>
</html>
